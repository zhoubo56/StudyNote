# 常用命令

## 删除 kube-proxy

```sh
kubectl get pod -n kube-system | grep kube-proxy |awk '{system("kubectl delete pod "$1" -n kube-system")}'
```

## 删除节点Node

### On Master Node

Find the node

```sh
kubectl get nodes
```

Drain it

```sh
kubectl drain nodetoberemoved
```

Delete it

```sh
kubectl delete node nodetoberemoved
```

### On Worker Node (nodetoberemoved)

Remove join/init setting from node

```sh
kubeadm reset
```

## 批量负载指定标签的Deploy

```sh
#这里表示的是标签为version，值为a
kubectl scale deploy $(kubectl get deploy -l version=a -o jsonpath='{.items[*].metadata.name}') --replicas=0
```
